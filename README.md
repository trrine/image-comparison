# Keypoint-Based Image Comparison Using SIFT
This program utilises the SIFT (Scale-Invariant Feature Transform) algorithm to detect keypoints and descriptors in images, which can both charactise individual objects and entire images. The user can provide one image as input and have the image displayed with detected keypoints highlighted. Additionally, the user can input a list of images, and the program will use the keypoint-based descriptors to compare the images and print a dissimilarity matrix.

![image](https://user-images.githubusercontent.com/41973043/210826627-00b99127-5d9c-4d91-95a3-05e316ba609f.png)

## Description
This program was developed for a computer vision subject at university with the purpose of exploring the effectiveness of keypoint-based detectors for characterising and comparing images. The program runs in the command lime and essentially has two major parts or functionalities. 

The first functionality is activated when a single image is provided as input. This part involves using SIFT to detect keypoints from the luminance Y component of the image and highlighting the keypoints with crosses on the image. In addition, a circle is around the keypoint with a radius proportional to the scale of the keypoint and a line from the cross to the circle indicating the orientation of the keypoint. Both the original image (rescaled to VGA comparable size) and the image with the highlighted keypoints are displayed. The number of detected keypoints is also printed to the user.

The second functionality is activated when multiple images are provided as input. This part also uses SIFT to detect keypoints and computing their corresponding descriptors from each image. The SIFT descriptors extracted from all images are then clustered into K clusters using the K-Means algorithm where the values of K are specified as a percentage of the total number of keypoints. Each cluster represents a visual word. Next, a histogram is constructed for each image based on the occurrence of the visual words. This is done by classfying each descriptor in an image into one of the clusters/visual words and counting the frequency of the "word" in the image. A dissimilarity matrix is then generated by calculating the chi-square distance between the normalized BoW histograms of each pair of images.

## Getting Started
### Dependencies 
- Python 3.10.4
- OpenCV 4.5.5

### Executing the Program
The program runs from the command line where the user provides the image file(s) as input.
To run the program with the first functionality (detect and display keypoints), type the following command:
- siftImages.py imagefile1
- E.g.: siftImages.py img01.jpg

To run the program with the second functionality (compare images), type the following command:
- siftImages.py imagefile1 imagefile2 imagefile3 etc...
- E.g.: siftImages.py img01.jpg img02.jpg img03.jpg
